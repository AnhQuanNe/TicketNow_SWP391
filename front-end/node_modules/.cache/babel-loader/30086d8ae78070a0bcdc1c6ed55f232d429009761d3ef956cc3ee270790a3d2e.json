{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function EventDetail(){const{id}=useParams();const navigate=useNavigate();const[event,setEvent]=useState(null);useEffect(()=>{fetch(\"/api/events/\".concat(id)).then(res=>res.json()).then(data=>setEvent(data)).catch(err=>console.error(err));},[id]);if(!event)return/*#__PURE__*/_jsx(\"div\",{children:\"\\u0110ang t\\u1EA3i...\"});const handleBuyTicket=()=>{const loggedIn=false;// TODO: thay bằng check login thật\nif(!loggedIn)navigate(\"/login\");else navigate(\"/buy-ticket/\".concat(id));};return/*#__PURE__*/_jsxs(\"div\",{className:\"container my-6\",children:[/*#__PURE__*/_jsx(\"h2\",{children:event.title}),/*#__PURE__*/_jsx(\"p\",{children:event.description}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Ng\\xE0y: \",new Date(event.date).toLocaleString()]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0110\\u1ECBa \\u0111i\\u1EC3m: \",event.locationId]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"S\\u1ED1 v\\xE9 c\\xF2n: \",event.ticketsAvailable]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:handleBuyTicket,children:\"Mua v\\xE9\"})]});}export default EventDetail;","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","jsx","_jsx","jsxs","_jsxs","EventDetail","id","navigate","event","setEvent","fetch","concat","then","res","json","data","catch","err","console","error","children","handleBuyTicket","loggedIn","className","title","description","Date","date","toLocaleString","locationId","ticketsAvailable","onClick"],"sources":["D:/TicketNow_SWP391/front-end/src/user/js/EventDetail.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\n\r\nfunction EventDetail() {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [event, setEvent] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetch(`/api/events/${id}`)\r\n      .then(res => res.json())\r\n      .then(data => setEvent(data))\r\n      .catch(err => console.error(err));\r\n  }, [id]);\r\n\r\n  if (!event) return <div>Đang tải...</div>;\r\n\r\n  const handleBuyTicket = () => {\r\n    const loggedIn = false; // TODO: thay bằng check login thật\r\n    if (!loggedIn) navigate(\"/login\");\r\n    else navigate(`/buy-ticket/${id}`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"container my-6\">\r\n      <h2>{event.title}</h2>\r\n      <p>{event.description}</p>\r\n      <p>Ngày: {new Date(event.date).toLocaleString()}</p>\r\n      <p>Địa điểm: {event.locationId}</p>\r\n      <p>Số vé còn: {event.ticketsAvailable}</p>\r\n      <button className=\"btn btn-primary\" onClick={handleBuyTicket}>\r\n        Mua vé\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EventDetail;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1D,QAAS,CAAAC,WAAWA,CAAA,CAAG,CACrB,KAAM,CAAEC,EAAG,CAAC,CAAGP,SAAS,CAAC,CAAC,CAC1B,KAAM,CAAAQ,QAAQ,CAAGP,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACQ,KAAK,CAAEC,QAAQ,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CAExCD,SAAS,CAAC,IAAM,CACda,KAAK,gBAAAC,MAAA,CAAgBL,EAAE,CAAE,CAAC,CACvBM,IAAI,CAACC,GAAG,EAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACG,IAAI,EAAIN,QAAQ,CAACM,IAAI,CAAC,CAAC,CAC5BC,KAAK,CAACC,GAAG,EAAIC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CAAC,CACrC,CAAC,CAAE,CAACX,EAAE,CAAC,CAAC,CAER,GAAI,CAACE,KAAK,CAAE,mBAAON,IAAA,QAAAkB,QAAA,CAAK,uBAAW,CAAK,CAAC,CAEzC,KAAM,CAAAC,eAAe,CAAGA,CAAA,GAAM,CAC5B,KAAM,CAAAC,QAAQ,CAAG,KAAK,CAAE;AACxB,GAAI,CAACA,QAAQ,CAAEf,QAAQ,CAAC,QAAQ,CAAC,CAAC,IAC7B,CAAAA,QAAQ,gBAAAI,MAAA,CAAgBL,EAAE,CAAE,CAAC,CACpC,CAAC,CAED,mBACEF,KAAA,QAAKmB,SAAS,CAAC,gBAAgB,CAAAH,QAAA,eAC7BlB,IAAA,OAAAkB,QAAA,CAAKZ,KAAK,CAACgB,KAAK,CAAK,CAAC,cACtBtB,IAAA,MAAAkB,QAAA,CAAIZ,KAAK,CAACiB,WAAW,CAAI,CAAC,cAC1BrB,KAAA,MAAAgB,QAAA,EAAG,WAAM,CAAC,GAAI,CAAAM,IAAI,CAAClB,KAAK,CAACmB,IAAI,CAAC,CAACC,cAAc,CAAC,CAAC,EAAI,CAAC,cACpDxB,KAAA,MAAAgB,QAAA,EAAG,gCAAU,CAACZ,KAAK,CAACqB,UAAU,EAAI,CAAC,cACnCzB,KAAA,MAAAgB,QAAA,EAAG,wBAAW,CAACZ,KAAK,CAACsB,gBAAgB,EAAI,CAAC,cAC1C5B,IAAA,WAAQqB,SAAS,CAAC,iBAAiB,CAACQ,OAAO,CAAEV,eAAgB,CAAAD,QAAA,CAAC,WAE9D,CAAQ,CAAC,EACN,CAAC,CAEV,CAEA,cAAe,CAAAf,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}